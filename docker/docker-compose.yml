version: "3"

services:
   database:
      image: postgres:latest
      container_name: db_container
      environment:
         - POSTGRES_PASSWORD=automatisierungstechnik
         - POSTGRES_USER=praktikum
      volumes:
         - universedb:/var/lib/postgresql/data
      ports:
         - 5432:5432

   mosquitto:
      image: eclipse-mosquitto:2
      ports:
         - 1883:1883
         - 8883:8883
         - 9001:9001
      volumes:
         - ./mosquitto/config:/mosquitto/config
         - ./mosquitto/data:/mosquitto/data


#    flask:
#       build:
#           context: ..
#           dockerfile: ./docker/flask_service
#       image: main_service
#       restart: always
#       container_name: flask_container
#       volumes:
# # quelle f√ºr dateien anpassen:
#          - ~/res:/python-docker/src/main/static/res 
#       ports:
#          - 5000:5000
#       network_mode: "host"

#    base:
#       build:
#           context: ..
#           dockerfile: ./docker/com_service
#       image: main_service
#       restart: always
#       container_name: communication_container
# # ports anpassen:
#       ports:
#          - 5000:5000
#       network_mode: "host"

volumes:
   universedb:
      driver: local

